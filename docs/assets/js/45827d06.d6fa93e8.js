"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[40175],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>b});var i=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,b=c["".concat(l,".").concat(m)]||c[m]||d[m]||a;return n?i.createElement(b,o(o({ref:t},u),{},{components:n})):i.createElement(b,o({ref:t},u))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<a;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},42156:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var i=n(87462),r=(n(67294),n(3905));const a={},o="Page Visibility API",s={unversionedId:"WebAPI/Page-Visibility-API",id:"WebAPI/Page-Visibility-API",title:"Page Visibility API",description:"To be precise, the API triggers an event whenever the page visibility status changes, either when the user minimizes or maximizes the window or switches the tab.",source:"@site/docs/WebAPI/Page-Visibility-API.md",sourceDirName:"WebAPI",slug:"/WebAPI/Page-Visibility-API",permalink:"/notebook/docs/WebAPI/Page-Visibility-API",draft:!1,editUrl:"https://github.com/scheffershen/notebook/tree/main/docs/WebAPI/Page-Visibility-API.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Intersection Observer API",permalink:"/notebook/docs/WebAPI/Intersection Observer API"},next:{title:"Web APIs",permalink:"/notebook/docs/WebAPI/Web-APIs_Roadmap"}},l={},p=[{value:"USE CASES",id:"use-cases",level:2},{value:"HOW TO USE IT?",id:"how-to-use-it",level:2}],u={toc:p};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"page-visibility-api"},"Page Visibility API"),(0,r.kt)("p",null,"To be precise, the API triggers an event whenever the ",(0,r.kt)("inlineCode",{parentName:"p"},"page visibility status")," changes, either when the user ",(0,r.kt)("inlineCode",{parentName:"p"},"minimizes or maximizes the window")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"switches the tab"),"."),(0,r.kt)("h2",{id:"use-cases"},"USE CASES"),(0,r.kt)("p",null,"In general, we want to use the Page Visibility API to stop unnecessary processes when the user doesn\u2019t see the page or, on the other hand, to perform background actions."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"to pause videos, image carousels, or animations when the user leaves the page;"),(0,r.kt)("li",{parentName:"ul"},"if the page displays live data from an API, stop this behavior temporarily while the user is away;"),(0,r.kt)("li",{parentName:"ul"},"to send user analytics.")),(0,r.kt)("h2",{id:"how-to-use-it"},"HOW TO USE IT?"),(0,r.kt)("p",null,"The Page Visibility API brings two properties and an event to access the page visibility status:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"document.hidden"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"It is globally available and read-only. Try to avoid it since it is now deprecated, but when accessed, it returns true if the page is hidden and false if it is visible."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"document.visibilityState"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"It is the updated version of ",(0,r.kt)("inlineCode",{parentName:"li"},"document.hidden"),", but when accessed, it returns four possible values depending on the page visibility status:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"visible"),": The page is visible, it isn\u2019t minimized nor in another tab."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hidden"),": The page isn\u2019t visible; it is minimized or in another tab"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"prerender"),": This is the initial state of a visible page when it is prerendering."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"unloaded"),": The page is being unloaded from memory."))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"visibilitychange()"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"It\u2019s an event provided by the ",(0,r.kt)("inlineCode",{parentName:"li"},"document")," object that is triggered when the page ",(0,r.kt)("inlineCode",{parentName:"li"},"visibilityState")," changes.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const video = document.querySelector("#video");\n\ndocument.addEventListener("visibilitychange", () => {\n    if (document.visibilityState === "visible") {\n        video.play();\n    } else {\n        video.pause();\n    }\n});\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const getQuote = async () => {\n    if (document.visibilityState === "visible") {\n        try {\n            const response = await fetch("https://api.quotable.io/random");\n            const {content, author, dateAdded} = await response.json();\n            const parsedQuote = `\n                    <q>${content}</q> <br> \n                    <p>- ${author}</p><br> \n                    <p>Added on ${dateAdded}</p>`;\n            quote.innerHTML = parsedQuote;\n        } catch (error) {\n            console.error(error);\n        }\n    }\n};\n\ngetQuote();\n\nsetInterval(getQuote, 10000);\n')))}c.isMDXComponent=!0}}]);