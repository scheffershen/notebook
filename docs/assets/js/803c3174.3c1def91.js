"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2987],{3905:(e,r,t)=>{t.d(r,{Zo:()=>p,kt:()=>f});var n=t(7294);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){i(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=n.createContext({}),s=function(e){var r=n.useContext(c),t=r;return e&&(t="function"==typeof e?e(r):a(a({},r),e)),t},p=function(e){var r=s(e.components);return n.createElement(c.Provider,{value:r},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},m=n.forwardRef((function(e,r){var t=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(t),m=i,f=u["".concat(c,".").concat(m)]||u[m]||d[m]||o;return t?n.createElement(f,a(a({ref:r},p),{},{components:t})):n.createElement(f,a({ref:r},p))}));function f(e,r){var t=arguments,i=r&&r.mdxType;if("string"==typeof e||i){var o=t.length,a=new Array(o);a[0]=m;var l={};for(var c in r)hasOwnProperty.call(r,c)&&(l[c]=r[c]);l.originalType=e,l[u]="string"==typeof e?e:i,a[1]=l;for(var s=2;s<o;s++)a[s]=t[s];return n.createElement.apply(null,a)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},767:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var n=t(7462),i=(t(7294),t(3905));const o={},a="Utiliser mod_rewrite pour le contr\xf4le d'acc\xe8s",l={unversionedId:"apache/configuration/Utiliser mod_rewrite pour le contr\xf4le d acc\xe8s",id:"apache/configuration/Utiliser mod_rewrite pour le contr\xf4le d acc\xe8s",title:"Utiliser mod_rewrite pour le contr\xf4le d'acc\xe8s",description:"http://eost.u-strasbg.fr/manual/fr/rewrite/access.html",source:"@site/docs/apache/configuration/Utiliser mod_rewrite pour le contr\xf4le d acc\xe8s.md",sourceDirName:"apache/configuration",slug:"/apache/configuration/Utiliser mod_rewrite pour le contr\xf4le d acc\xe8s",permalink:"/notebook/docs/apache/configuration/Utiliser mod_rewrite pour le contr\xf4le d acc\xe8s",draft:!1,editUrl:"https://github.com/scheffershen/notebook/tree/main/docs/apache/configuration/Utiliser mod_rewrite pour le contr\xf4le d acc\xe8s.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Adding an ipv6 address to require ip in phpmyadmin",permalink:"/notebook/docs/apache/configuration/Adding an ipv6 address to require ip in phpmyadmin"},next:{title:"mod_proxy_rediriger en tout transparence Apache vers un port sp\xe9cifique",permalink:"/notebook/docs/apache/configuration/mod_proxy_rediriger en tout transparence Apache vers un port sp\xe9cifique"}},c={},s=[{value:"Blocage du r\xe9f\xe9rencement \xe0 chaud (Hotlinking) d&#39;images",id:"blocage-du-r\xe9f\xe9rencement-\xe0-chaud-hotlinking-dimages",level:2},{value:"ex 1:",id:"ex-1",level:4},{value:"ex 2:",id:"ex-2",level:4},{value:"ex 3:",id:"ex-3",level:4},{value:"ex 4:",id:"ex-4",level:4},{value:"Conteneurs de syst\xe8me de fichiers",id:"conteneurs-de-syst\xe8me-de-fichiers",level:2}],p={toc:s};function u(e){let{components:r,...t}=e;return(0,i.kt)("wrapper",(0,n.Z)({},p,t,{components:r,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"utiliser-mod_rewrite-pour-le-contr\xf4le-dacc\xe8s"},"Utiliser mod_rewrite pour le contr\xf4le d'acc\xe8s"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"http://eost.u-strasbg.fr/manual/fr/rewrite/access.html"},"http://eost.u-strasbg.fr/manual/fr/rewrite/access.html")),(0,i.kt)("p",null,"Il explique comment utiliser mod_rewrite pour contr\xf4ler l'acc\xe8s \xe0 diverses ressources,"),(0,i.kt)("h2",{id:"blocage-du-r\xe9f\xe9rencement-\xe0-chaud-hotlinking-dimages"},"Blocage du r\xe9f\xe9rencement \xe0 chaud (Hotlinking) d'images"),(0,i.kt)("p",null,"Cette technique vous permet d'interdire \xe0 d'autres sites d'inclure directement vos images dans leurs pages."),(0,i.kt)("h4",{id:"ex-1"},"ex 1:"),(0,i.kt)("p",null,"Dans le premier exemple, nous rejetons tout simplement la requ\xeate si elle ne provenait pas d'une page appartenant \xe0 notre site. Pour les besoins de cet exemple, nous supposons que le nom de votre site est ",(0,i.kt)("a",{parentName:"p",href:"http://www.example.com"},"www.example.com"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'RewriteCond "%{HTTP_REFERER}" "!^$"\nRewriteCond "%{HTTP_REFERER}" "!www.example.com" [NC]\nRewriteRule "\\.(gif|jpg|png)$"    "-"   [F,NC]\n')),(0,i.kt)("h4",{id:"ex-2"},"ex 2:"),(0,i.kt)("p",null,"Dans le second exemple, plut\xf4t que de rejeter la requ\xeate, nous affichons une autre image \xe0 la place."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'RewriteCond "%{HTTP_REFERER}" "!^$"\nRewriteCond "%{HTTP_REFERER}" "!www.example.com" [NC]\nRewriteRule "\\.(gif|jpg|png)$"    "/images/go-away.png"   [R,NC]\n')),(0,i.kt)("h4",{id:"ex-3"},"ex 3:"),(0,i.kt)("p",null,"Dans le troisi\xe8me exemple, nous redirigeons la requ\xeate vers une image appartenant \xe0 un autre site."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'RewriteCond "%{HTTP_REFERER}" "!^$"\nRewriteCond "%{HTTP_REFERER}" "!www.example.com" [NC]\nRewriteRule "\\.(gif|jpg|png)$" "http://other.example.com/image.gif"   [R,NC]\n')),(0,i.kt)("h4",{id:"ex-4"},"ex 4:"),(0,i.kt)("p",null,"Si vous ne voulez pas rediriger la requ\xeate, mais simplement interdire l'acc\xe8s \xe0 la ressource, vous pouvez y parvenir sans utiliser mod_rewrite :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'SetEnvIf Referer "advanzpharma.medica-source\\.com" local_referer\n\n<FilesMatch "\\.(xlsx)$">\n  Require env local_referer\n</FilesMatch>\n')),(0,i.kt)("h2",{id:"conteneurs-de-syst\xe8me-de-fichiers"},"Conteneurs de syst\xe8me de fichiers"),(0,i.kt)("p",null,"Par exemple, avec la configuration suivante, l'indexation sera activ\xe9e pour le r\xe9pertoire /var/web/dir1 et tous ses sous-r\xe9pertoires."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'<Directory "/var/web/dir1">\n    Options +Indexes\n</Directory>\n')))}u.isMDXComponent=!0}}]);