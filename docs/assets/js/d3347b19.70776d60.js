"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4763],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),u=s(n),d=a,h=u["".concat(l,".").concat(d)]||u[d]||m[d]||o;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[u]="string"==typeof e?e:a,i[1]=p;for(var s=2;s<o;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9661:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>p,toc:()=>s});var r=n(7462),a=(n(7294),n(3905));const o={},i="apachebench (ab) and htop",p={unversionedId:"Linux/HTTP performance tools/ab",id:"Linux/HTTP performance tools/ab",title:"apachebench (ab) and htop",description:"ab - L'outil de test des performances du serveur HTTP Apache.",source:"@site/docs/Linux/HTTP performance tools/ab.md",sourceDirName:"Linux/HTTP performance tools",slug:"/Linux/HTTP performance tools/ab",permalink:"/notebook/docs/Linux/HTTP performance tools/ab",draft:!1,editUrl:"https://github.com/scheffershen/notebook/tree/main/docs/Linux/HTTP performance tools/ab.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"HTTP performance tools",permalink:"/notebook/docs/category/http-performance-tools"},next:{title:"httperf",permalink:"/notebook/docs/Linux/HTTP performance tools/httperf"}},l={},s=[{value:"Conventions:",id:"conventions",level:2},{value:"Install apachebench (apache2-utils)",id:"install-apachebench-apache2-utils",level:2},{value:"Run <code>htop</code> on target machine",id:"run-htop-on-target-machine",level:2},{value:"Running Apachebench",id:"running-apachebench",level:2},{value:"htop command",id:"htop-command",level:2},{value:"Compare htop and atop",id:"compare-htop-and-atop",level:2},{value:"atop command",id:"atop-command",level:2}],c={toc:s};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"apachebench-ab-and-htop"},"apachebench (ab) and htop"),(0,a.kt)("p",null,"ab - L'outil de test des performances du serveur HTTP Apache."),(0,a.kt)("p",null,"ab est un utilitaire qui vous permet de tester les performances de votre serveur HTTP Apache. Il a \xe9t\xe9 con\xe7u pour vous donner une id\xe9e du degr\xe9 de performances de votre installation d'Apache. Il vous permet en particulier de d\xe9terminer le nombre de r\xe9qu\xeates que votre installation d'Apache est capable de servir par seconde."),(0,a.kt)("h2",{id:"conventions"},"Conventions:"),(0,a.kt)("p",null,"Target machine \u2013 a machine which is being benchmarked\nHost machine \u2013 a machine from where benchmark is initiated"),(0,a.kt)("h2",{id:"install-apachebench-apache2-utils"},"Install apachebench (apache2-utils)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ apt-get install apache2-utils\n")),(0,a.kt)("h2",{id:"run-htop-on-target-machine"},"Run ",(0,a.kt)("inlineCode",{parentName:"h2"},"htop")," on target machine"),(0,a.kt)("p",null,"Htop is an interactive system monitor, process viewer, and process manager designed for Unix systems"),(0,a.kt)("p",null,"atop is a real-time system monitor which shows usage of your Linux hardware and network resources"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ apt-get install htop\n")),(0,a.kt)("p",null,"Ces deux programmes, ",(0,a.kt)("inlineCode",{parentName:"p"},"htop")," et ",(0,a.kt)("inlineCode",{parentName:"p"},"atop"),", ont la m\xeame fonction de base : lister et g\xe9rer les processus"),(0,a.kt)("h2",{id:"running-apachebench"},"Running Apachebench"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ ab -n 10000 -c 10000 -l http://example.com/\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"n = number of total requests, \u603b\u7684\u8bf7\u6c42\u6570"),(0,a.kt)("li",{parentName:"ul"},"c = number of concurrency (yep, this is same concurrency c10k problem refers to), \u5e76\u53d1\u6570"),(0,a.kt)("li",{parentName:"ul"},"l = \u8868\u793a\u5f53\u67d0\u4e2a\u8bf7\u6c42\u7684\u56de\u590d\u957f\u5ea6\u4e0d\u4e0e\u7b2c\u4e00\u4e2a\u8bf7\u6c42\u7684\u56de\u590d\u957f\u5ea6\u4e00\u81f4\u65f6\uff0c\u4e0d\u628a\u5b83\u4f5c\u4e3a\u5931\u8d25\u7684\u8bf7\u6c42"),(0,a.kt)("li",{parentName:"ul"},"p = \u53d1\u9001post\u8bf7\u6c42\u5e76\u6307\u5b9apost\u53c2\u6570\u6587\u4ef6")),(0,a.kt)("p",null,"ab \u4f7f\u7528\u5f88\u65b9\u4fbf\uff0c\u53ef\u662f\u95ee\u9898\u5728\u4e8e\uff0c\u5f53\u6211\u4eec\u9700\u8981\u5728\u4e00\u4e2atest\u4e2d\u5bf9\u591a\u4e2a URL \u8fdb\u884c\u5e76\u53d1\u8bf7\u6c42\u7684\u65f6\u5019\uff0cab\u6ca1\u6cd5\u505a\u5230\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 siege\u3002"),(0,a.kt)("h2",{id:"htop-command"},"htop command"),(0,a.kt)("p",null,"htop is a text-mode (console or terminal) process application for Unix systems. It plays three primary roles:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"System monitor.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Process-viewer.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Process manager."),(0,a.kt)("p",{parentName:"li"},"  $ htop"))),(0,a.kt)("h2",{id:"compare-htop-and-atop"},"Compare htop and atop"),(0,a.kt)("p",null,"htop is interactive process-viewer and process-manager, "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Colorful and nicer text-graphics interface"),(0,a.kt)("li",{parentName:"ul"},"Easier to use ")),(0,a.kt)("p",null,"atop is a full-screen performance monitor for viewing system load.It shows the most critical hardware resources such as CPU, memory, disk and network. By default, it refreshes every 10 seconds."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Text based monochrome interface with the exception of highlighting critical resources in colors. Columns are shown based on the size of the window. Columns are dynamically added or removed as you enlarge or shrink the window."),(0,a.kt)("li",{parentName:"ul"},"It is capable of reporting the activity of all processes ")),(0,a.kt)("h2",{id:"atop-command"},"atop command"),(0,a.kt)("p",null,"The atop command is a tool for monitoring system resources in Linux. It displays tons of information related to the amount of load on the system\u2019s resources at the process level."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ sudo apt install atop\n")),(0,a.kt)("p",null,"The 'atop' command provides the opportunity to study the memory consumption for each process running in the system. We can do so by running:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ atop -m\n")),(0,a.kt)("p",null,"To extract information related to disk utilization, we can use the '-d' option along with 'atop' command."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ atop -d\n")),(0,a.kt)("p",null,"This gives us the commands that are running in the background as processes in a command-line output format."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ atop -c\n")),(0,a.kt)("p",null,"Instead of just inspecting process information, atop command provides the ability to check for thread-specific resource utilization."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ atop -y\n")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Find process start-times"),(0,a.kt)("p",{parentName:"li"},"$ atop -v")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Number of processes for each user in the system"),(0,a.kt)("p",{parentName:"li"},"$ atop -au")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Which core a process is working on?"),(0,a.kt)("p",{parentName:"li"},"$ atop -s"))))}u.isMDXComponent=!0}}]);