"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7876],{3905:(e,t,o)=>{o.d(t,{Zo:()=>u,kt:()=>b});var n=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var c=n.createContext({}),l=function(e){var t=n.useContext(c),o=t;return e&&(o="function"==typeof e?e(t):s(s({},t),e)),o},u=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=l(o),h=r,b=p["".concat(c,".").concat(h)]||p[h]||d[h]||a;return o?n.createElement(b,s(s({ref:t},u),{},{components:o})):n.createElement(b,s({ref:t},u))}));function b(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,s=new Array(a);s[0]=h;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:r,s[1]=i;for(var l=2;l<a;l++)s[l]=o[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,o)}h.displayName="MDXCreateElement"},9433:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var n=o(7462),r=(o(7294),o(3905));const a={},s="When to use Let's Encrypt's webroot and standalone authorization",i={unversionedId:"Certbot/When to use Let-s Encrypt-s webroot and standalone authorization",id:"Certbot/When to use Let-s Encrypt-s webroot and standalone authorization",title:"When to use Let's Encrypt's webroot and standalone authorization",description:"https://advancedweb.hu/when-to-use-lets-encrypts-webroot-and-standalone-authorization/",source:"@site/docs/Certbot/When to use Let-s Encrypt-s webroot and standalone authorization.md",sourceDirName:"Certbot",slug:"/Certbot/When to use Let-s Encrypt-s webroot and standalone authorization",permalink:"/notebook/docs/Certbot/When to use Let-s Encrypt-s webroot and standalone authorization",draft:!1,editUrl:"https://github.com/scheffershen/notebook/tree/main/docs/Certbot/When to use Let-s Encrypt-s webroot and standalone authorization.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"How To Use Certbot Standalone Mode to Retrieve Let's Encrypt SSL Certificates on Ubuntu 16.04",permalink:"/notebook/docs/Certbot/How To Use Certbot Standalone Mode to Retrieve Let-s Encrypt SSL Certificates on Ubuntu 16_04"},next:{title:"certbot_webroot vs certbot_standalone",permalink:"/notebook/docs/Certbot/certbot_webroot vs certbot_standalone"}},c={},l=[{value:"Motivation",id:"motivation",level:2},{value:"Webroot",id:"webroot",level:2},{value:"Standalone",id:"standalone",level:2},{value:"More complicated use cases",id:"more-complicated-use-cases",level:2}],u={toc:l};function p(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"when-to-use-lets-encrypts-webroot-and-standalone-authorization"},"When to use Let's Encrypt's webroot and standalone authorization"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://advancedweb.hu/when-to-use-lets-encrypts-webroot-and-standalone-authorization/"},"https://advancedweb.hu/when-to-use-lets-encrypts-webroot-and-standalone-authorization/")),(0,r.kt)("h2",{id:"motivation"},"Motivation"),(0,r.kt)("p",null,"Probably the two most used custom authorizations when it comes to Let\u2019s Encrypt is the webroot and the standalone."),(0,r.kt)("h2",{id:"webroot"},"Webroot"),(0,r.kt)("p",null,"Webroot authentication works by designating a folder which contents are available publicly. Certbot then places a file there then pings a remote server that tries to fetch it. If it is successful, then Let\u2019s Encrypt issues the certificate, as you\u2019ve proven ownership of the domain."),(0,r.kt)("p",null,"To specify webroot auth and the directory, use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ certbot certonly/renew --webroot -w /path/to/webroot\n")),(0,r.kt)("h2",{id:"standalone"},"Standalone"),(0,r.kt)("p",null,"This authorization temporarily starts a webserver on port 80, just for the time of the auth process. As this is a standalone and self-contained solution, this is the easiest to configure, if you don\u2019t use that port."),(0,r.kt)("p",null,"Scenario #1: port 80 is free\nTo specify the standalone auth and restart the app on a new certificate, use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'$ certbot certonly/renew --standalone --deploy-hook="restart app..."\n')),(0,r.kt)("p",null,"Scenario #2: port 80 is used\nTo use standalone authorization and shut down the app during the process, use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'$ certbot certonly/renew --standalone --pre-hook "shut down app..." --post-hook "start app..."\n')),(0,r.kt)("h2",{id:"more-complicated-use-cases"},"More complicated use cases"),(0,r.kt)("p",null,"With these two auth challenges, you can easily configure an evergreen certificate for most use cases."))}p.isMDXComponent=!0}}]);