"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[58932],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=r.createContext({}),s=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=s(e.components);return r.createElement(u.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},b=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,u=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(n),b=i,m=d["".concat(u,".").concat(b)]||d[b]||c[b]||a;return n?r.createElement(m,o(o({ref:t},p),{},{components:n})):r.createElement(m,o({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=b;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l[d]="string"==typeof e?e:i,o[1]=l;for(var s=2;s<a;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}b.displayName="MDXCreateElement"},93569:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var r=n(87462),i=(n(67294),n(3905));const a={},o="Notes",l={unversionedId:"BigBlueButton/notes",id:"BigBlueButton/notes",title:"Notes",description:"by Yannick, 2021",source:"@site/docs/BigBlueButton/notes.md",sourceDirName:"BigBlueButton",slug:"/BigBlueButton/notes",permalink:"/notebook/docs/BigBlueButton/notes",draft:!1,editUrl:"https://github.com/scheffershen/notebook/tree/main/docs/BigBlueButton/notes.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"customize",permalink:"/notebook/docs/BigBlueButton/customize"},next:{title:"Certbot",permalink:"/notebook/docs/category/certbot"}},u={},s=[{value:"G\xe9n\xe9rez un certificat",id:"g\xe9n\xe9rez-un-certificat",level:2},{value:"Configurez Freeswitch",id:"configurez-freeswitch",level:2},{value:"Charger BBB vis https",id:"charger-bbb-vis-https",level:2},{value:"S\xe9curisation des connexions",id:"s\xe9curisation-des-connexions",level:2},{value:"Safficher le BBB cl\xe9 secr\xe8te",id:"safficher-le-bbb-cl\xe9-secr\xe8te",level:2},{value:"Suppression de BBB-demo",id:"suppression-de-bbb-demo",level:2},{value:"Activation de 3 serveurs Kurento",id:"activation-de-3-serveurs-kurento",level:2},{value:"Configuration du message d\u2019accueil",id:"configuration-du-message-daccueil",level:2},{value:"Pr\xe9sentation par d\xe9faut",id:"pr\xe9sentation-par-d\xe9faut",level:2},{value:"Configuration de SIP (1/2)",id:"configuration-de-sip-12",level:2},{value:"Configuration de SIP (2/2)",id:"configuration-de-sip-22",level:2},{value:"Configuration du serveur TURN (1/3)",id:"configuration-du-serveur-turn-13",level:2},{value:"Ports          | Protocol | Description",id:"ports-----------protocol--description",level:2},{value:"Configuration du serveur TURN (2/3)",id:"configuration-du-serveur-turn-23",level:2},{value:"Configuration du serveur TURN (3/3)",id:"configuration-du-serveur-turn-33",level:2},{value:"Architecture du code source",id:"architecture-du-code-source",level:2},{value:"G\xe9n\xe9ration de l\u2019image",id:"g\xe9n\xe9ration-de-limage",level:2},{value:"Extraction de l\u2019image",id:"extraction-de-limage",level:2},{value:"Les technologies",id:"les-technologies",level:2},{value:"Version personnalis\xe9e",id:"version-personnalis\xe9e",level:2},{value:"Les principales commandes :",id:"les-principales-commandes-",level:2},{value:"Greenlight :",id:"greenlight-",level:2},{value:"Les API (https://docs.bigbluebutton.org/dev/api.html)",id:"les-api-httpsdocsbigbluebuttonorgdevapihtml",level:2},{value:"Recommandations :",id:"recommandations-",level:2}],p={toc:s};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"notes"},"Notes"),(0,i.kt)("p",null,"by Yannick, 2021"),(0,i.kt)("p",null,"X:\\UMG\\Produit Logiciel\\Produit - Medflixs\\Passation\\Final"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"bbb-web")," \u2013 \u5b9e\u73b0 BigBlueButton API \u548c\u7528\u4e8e\u6f14\u793a\u7684\u6587\u6863\u8f6c\u6362\n",(0,i.kt)("inlineCode",{parentName:"p"},"akka-bbb-apps")," \u2013 \u5904\u7406\u670d\u52a1\u5668\u4e0a\u4f1a\u8bae\u72b6\u6001\u7684\u670d\u52a1\u5668\u7aef\u5e94\u7528\u7a0b\u5e8f\n",(0,i.kt)("inlineCode",{parentName:"p"},"bbb-html5")," \u2013 \u5728\u6d4f\u89c8\u5668\u4e2d\u52a0\u8f7d\u7684 HTML5 \u5ba2\u6237\u7aef\u3002 \u5229\u7528 MongoDB \u548c React.js \u7684\u5ba2\u6237\u7aef\u670d\u52a1\u5668\u7aef\u6d41\u661f\u5e94\u7528\u7a0b\u5e8f\n",(0,i.kt)("inlineCode",{parentName:"p"},"bbb-fsesl-akka")," \u2013 \u5411 FreeSWITCH \u53d1\u9001\u547d\u4ee4\u7684\u7ec4\u4ef6\n",(0,i.kt)("inlineCode",{parentName:"p"},"bbb-playback-presentation")," \u2013 \u5f55\u5236\u548c\u64ad\u653e\u811a\u672c\u4ee5\u521b\u5efa\u6f14\u793a\u5e03\u5c40\n",(0,i.kt)("inlineCode",{parentName:"p"},"bbb-webrtc-sfu")," \u2013 \u5c06\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u4f20\u5165\u8bf7\u6c42\u6865\u63a5\u5230 Kurento \u7684\u670d\u52a1\u5668\n",(0,i.kt)("inlineCode",{parentName:"p"},"kurento-media-server")," \u2013 WebRTC \u5a92\u4f53\u670d\u52a1\u5668\uff0c\u7528\u4e8e\u53d1\u9001/\u63a5\u6536/\u5f55\u5236\u89c6\u9891\uff08\u7f51\u7edc\u6444\u50cf\u5934\u548c\u5c4f\u5e55\u5171\u4eab\uff09\n",(0,i.kt)("inlineCode",{parentName:"p"},"bbb-freeswitch-core")," \u2013 \u7528\u4e8e\u53d1\u9001/\u63a5\u6536/\u5f55\u5236\u97f3\u9891\u7684 WebRTC \u5a92\u4f53\u670d\u52a1\u5668"),(0,i.kt)("h2",{id:"g\xe9n\xe9rez-un-certificat"},"G\xe9n\xe9rez un certificat"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ sudo apt-get update\n$ sudo apt-get install software-properties-common\n$ sudo add-apt-repository universe\n$ sudo add-apt-repository ppa:certbot/certbot\n$ sudo apt-get install certbot\n\n$ sudo mkdir -p /etc/nginx/ssl\n$ sudo openssl dhparam -out /etc/nginx/ssl/dhp-4096.pem 4096\n\n$ sudo certbot --webroot -w /var/www/bigbluebutton-default/ -d meeting.medflixs.com certonly #why\n")),(0,i.kt)("h2",{id:"configurez-freeswitch"},"Configurez Freeswitch"),(0,i.kt)("p",null,"Editez le fichier ",(0,i.kt)("inlineCode",{parentName:"p"},"/etc/bigbluebutton/nginx/sip.nginx")," et remplacez ",(0,i.kt)("inlineCode",{parentName:"p"},"http")," par ",(0,i.kt)("inlineCode",{parentName:"p"},"https"),", et le port ",(0,i.kt)("inlineCode",{parentName:"p"},"5066")," par ",(0,i.kt)("inlineCode",{parentName:"p"},"7443")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"location /ws {\n    proxy_pass https://203.0.113.1:7443;\n    ...\n}\n")),(0,i.kt)("h2",{id:"charger-bbb-vis-https"},"Charger BBB vis https"),(0,i.kt)("p",null,"Editez le fichier ",(0,i.kt)("inlineCode",{parentName:"p"},"/usr/share/bbb-web/WEB-INF/classes/bigbluebutton.properties"),", et remplacez pour la variable bigbluebutton.web.serverURL ",(0,i.kt)("inlineCode",{parentName:"p"},"http")," par ",(0,i.kt)("inlineCode",{parentName:"p"},"https")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"defaultWelcomeMessage=Bienvenue sur MedflixS\n...\nbigbluebutton.web.serverURL=https://visio.medflixs.com\n...\n# Salt which is used by 3rd-party apps to authenticate api calls\nsecuritySalt=zIuBjjsgcsel4bmQt4tcN2cquVwoS7IuZu5KNotKaE\n# Directory where we drop the <meeting-id-recorded>.done file\nrecordStatusDir=/var/bigbluebutton/recording/status/recorded\n...\n# The directory where the published/unpublised recordings are located. This is for\n# the get recording* api calls\npublishedDir=/var/bigbluebutton/published\nunpublishedDir=/var/bigbluebutton/unpublished\ncaptionsDir=/var/bigbluebutton/captions\n")),(0,i.kt)("h2",{id:"s\xe9curisation-des-connexions"},"S\xe9curisation des connexions"),(0,i.kt)("p",null,"Editez le fichier ",(0,i.kt)("inlineCode",{parentName:"p"},"/usr/share/meteor/bundle/programs/server/assets/app/config/settings.yml")," et remplacez ",(0,i.kt)("inlineCode",{parentName:"p"},"ws")," par ",(0,i.kt)("inlineCode",{parentName:"p"},"wss"),", et ",(0,i.kt)("inlineCode",{parentName:"p"},"http")," par ",(0,i.kt)("inlineCode",{parentName:"p"},"https")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"...\n  kurento:\n    wsUrl: wss://visio.medflixs.com/bbb-webrtc-sfu\n...\n  note:\n    enabled: true\n    url: https://visio.medflixs.com/pad\n")),(0,i.kt)("p",null,"Editez le fichier ",(0,i.kt)("inlineCode",{parentName:"p"},"/usr/local/bigbluebutton/core/scripts/bigbluebutton.yml")," et remplacez ",(0,i.kt)("inlineCode",{parentName:"p"},"http")," par ",(0,i.kt)("inlineCode",{parentName:"p"},"https")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# For PRODUCTION\nlog_dir: /var/log/bigbluebutton\nevents_dir: /var/bigbluebutton/events\nrecording_dir: /var/bigbluebutton/recording\npublished_dir: /var/bigbluebutton/published\ncaptions_dir: /var/bigbluebutton/captions\nplayback_host: visio.medflixs.com\nplayback_protocol: https\n")),(0,i.kt)("p",null,"Red\xe9marrez la solution BBB"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ sudo bbb-conf --restart\n")),(0,i.kt)("h2",{id:"safficher-le-bbb-cl\xe9-secr\xe8te"},"Safficher le BBB cl\xe9 secr\xe8te"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ sudo bbb-conf --secret\n")),(0,i.kt)("h2",{id:"suppression-de-bbb-demo"},"Suppression de BBB-demo"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ sudo apt-get purge bbb-demo\n")),(0,i.kt)("h2",{id:"activation-de-3-serveurs-kurento"},"Activation de 3 serveurs Kurento"),(0,i.kt)("p",null,"/etc/bigbluebutton/bbb-conf/apply-config.sh"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"#!/bin/bash\n\n# Pull in the helper functions for configuring BigBlueButton\nsource /etc/bigbluebutton/bbb-conf/apply-lib.sh\n\nenableMultipleKurentos\n# disableMultipleKurentos\n\n")),(0,i.kt)("h2",{id:"configuration-du-message-daccueil"},"Configuration du message d\u2019accueil"),(0,i.kt)("p",null,"Dans le fichier ",(0,i.kt)("inlineCode",{parentName:"p"},"/usr/share/bbb-web/WEB-INF/classes/bigbluebutton.properties"),", modifier les variables ",(0,i.kt)("inlineCode",{parentName:"p"},"defaultWelcomeMessage")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"defaultWelcomeMessageFooter"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'defaultWelcomeMessage=Bienvenue sur MedflixS\n# Welcome to <b>%%CONFNAME%%</b>!<br><br>For help on using BigBlueButton see these (short) <a href="https://www.bigbluebutton.org/html5"><u>tutorial videos</u></a>.<br><br>To join the audio bridge click the phone button.  Use a headset to avoid causing background noise for others.\ndefaultWelcomeMessageFooter=Bienvenue sur Medflixs\n')),(0,i.kt)("h2",{id:"pr\xe9sentation-par-d\xe9faut"},"Pr\xe9sentation par d\xe9faut"),(0,i.kt)("p",null,"Dans le fichier des propri\xe9t\xe9s de BigBlueButton ",(0,i.kt)("inlineCode",{parentName:"p"},"/usr/share/bbb-web/WEB-INF/classes/bigbluebutton.properties"),", rechercher la variable, ",(0,i.kt)("inlineCode",{parentName:"p"},"beans.presentationService.defaultUploadedPresentation")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# Default Uploaded presentation file\nbeans.presentationService.defaultUploadedPresentation=${bigbluebutton.web.serverURL}/default.pdf\n")),(0,i.kt)("h2",{id:"configuration-de-sip-12"},"Configuration de SIP (1/2)"),(0,i.kt)("p",null,"Dans le r\xe9pertoire ci-dessous ",(0,i.kt)("inlineCode",{parentName:"p"},"/opt/freeswitch/conf/sip_profiles/external/"),", le fichier ",(0,i.kt)("inlineCode",{parentName:"p"},"unyc.xml")," contient les param\xe8tres fournis par ",(0,i.kt)("inlineCode",{parentName:"p"},"la soci\xe9t\xe9 Unyc"),"."),(0,i.kt)("h2",{id:"configuration-de-sip-22"},"Configuration de SIP (2/2)"),(0,i.kt)("p",null,"Dans le r\xe9pertoire ci-dessous ",(0,i.kt)("inlineCode",{parentName:"p"},"/opt/freeswitch/conf/dialplan/public/"),", le fichier ",(0,i.kt)("inlineCode",{parentName:"p"},"unyc.xml")," contient le dialplan actuel."),(0,i.kt)("h2",{id:"configuration-du-serveur-turn-13"},"Configuration du serveur TURN (1/3)"),(0,i.kt)("p",null,"Le ",(0,i.kt)("inlineCode",{parentName:"p"},"serveur TURN")," utilis\xe9 est un ",(0,i.kt)("inlineCode",{parentName:"p"},"serveur COTURN"),", ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/coturn/coturn"},"https://github.com/coturn/coturn")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ sudo apt-get install coturn\n")),(0,i.kt)("p",null,"Le serveur est install\xe9 sur une VM OVH derri\xe8re un ",(0,i.kt)("inlineCode",{parentName:"p"},"NAT")," et un ",(0,i.kt)("inlineCode",{parentName:"p"},"firewall"),"."),(0,i.kt)("p",null,"L\u2019adresse du serveur est ",(0,i.kt)("inlineCode",{parentName:"p"},"188.165.121.163"),", et le nom de domaine ",(0,i.kt)("inlineCode",{parentName:"p"},"turn.medflixs.com")),(0,i.kt)("p",null,"Les ports configur\xe9 sont les suivants,"),(0,i.kt)("h2",{id:"ports-----------protocol--description"},"Ports          | Protocol | Description"),(0,i.kt)("p",null,"3478           | TCP/UDP  | coturn listening port\n443            | TCP/UDP  | TLS listening port\n32768-65535    | UDP      | relay ports range"),(0,i.kt)("p",null,"Un certificat a \xe9t\xe9 g\xe9n\xe9r\xe9 (via Let\u2019s Encrypts) pour chiffrer les communications"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ sudo add-apt-repository ppa:certbot/certbot\n$ sudo apt-get update\n$ sudo apt-get install certbot\n$ sudo certbot certonly --standalone --preferred-challenges http -d turn.medflixs.com\n")),(0,i.kt)("h2",{id:"configuration-du-serveur-turn-23"},"Configuration du serveur TURN (2/3)"),(0,i.kt)("p",null,"La configuration du serveur Coturn est disponible dans le r\xe9pertoire ",(0,i.kt)("inlineCode",{parentName:"p"},"/etc/"),", et dans le fichier ",(0,i.kt)("inlineCode",{parentName:"p"},"turnserver.conf")),(0,i.kt)("h2",{id:"configuration-du-serveur-turn-33"},"Configuration du serveur TURN (3/3)"),(0,i.kt)("p",null,"C\xf4t\xe9 BigBlueButton, le param\xe9trage du serveur \xe0 utiliser est disponible dans le fichier ",(0,i.kt)("inlineCode",{parentName:"p"},"/usr/share/bbb-web/WEB-INF/classes/spring/turn-stun-servers.xml")),(0,i.kt)("p",null,"Dans ce fichier on d\xe9finit 2 serveurs : ",(0,i.kt)("inlineCode",{parentName:"p"},"un serveur STUN")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"un serveur TURN"),"."),(0,i.kt)("h2",{id:"architecture-du-code-source"},"Architecture du code source"),(0,i.kt)("p",null,"Ici, on va se concentrer sur les modifications graphiques de l\u2019interface. Que ce soit pour pour modifier des \xe9l\xe9ments existants ou pour en cr\xe9er de nouveaux."),(0,i.kt)("p",null,"Les items disponibles sur l\u2019interface BBB sont d\xe9finis dans le r\xe9pertoire ci-dessous, ",(0,i.kt)("inlineCode",{parentName:"p"},"bigbluebutton-html5\\imports\\ui\\components")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"actions-bar/component.jsx"),(0,i.kt)("li",{parentName:"ul"},"fullscreen-button/component.jsx"),(0,i.kt)("li",{parentName:"ul"},"imports\\ui\\stylesheets\\variables\\palette.scss")),(0,i.kt)("h2",{id:"g\xe9n\xe9ration-de-limage"},"G\xe9n\xe9ration de l\u2019image"),(0,i.kt)("p",null,"A partir du r\xe9pertoire ",(0,i.kt)("inlineCode",{parentName:"p"},"bigbluebutton-html5"),", ex\xe9cutez la commande suivante : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ meteor build --server-only meteorbundle\n")),(0,i.kt)("p",null,"Un fichier ",(0,i.kt)("inlineCode",{parentName:"p"},"bigbluebutton-html5-DDMMYYY.tar.gz")," sera g\xe9n\xe9r\xe9 dans le repertoire ",(0,i.kt)("inlineCode",{parentName:"p"},"./meteorbundle")),(0,i.kt)("h2",{id:"extraction-de-limage"},"Extraction de l\u2019image"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Copiez le fichier sur le serveur contenant la solution BBB")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Arr\xeat du serveur html5: "),(0,i.kt)("p",{parentName:"li"},"$ sudo systemctl stop bbb-html5")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"D\xe9compression du fichier"),(0,i.kt)("p",{parentName:"li"},"$ sudo tar -xzvf bigbluebutton-html5-DDMMYYY.tar.gz -C /usr/share/meteor")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Red\xe9marrage du serveur html5"),(0,i.kt)("p",{parentName:"li"},"$ sudo systemctl start bbb-html5"))),(0,i.kt)("p",null,"Le r\xe9pertoire ",(0,i.kt)("inlineCode",{parentName:"p"},"/usr/share/meteor/bundle/")," contiendra l\u2019image d\xe9compress\xe9e."),(0,i.kt)("h2",{id:"les-technologies"},"Les technologies"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"NodeJS")," : Serveur Web Javascript"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MeteorJS")," : Framework Javascript bas\xe9 sur NodeJS"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ReactJS")," : Biblioth\xe8que Javascript"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Kurento")," : Framework de serveur multim\xe9dia"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Freeswitch")," : Serveur de VoIP (commutateur audio)",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"SIP")," : Protocole de gestion de sessions. Il est utilis\xe9 pour lier un appel t\xe9l\xe9phonique \xe0 une salle."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"WebRTC")," : Protocole de gestion des communication web temps r\xe9el"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Turn")," / ",(0,i.kt)("inlineCode",{parentName:"li"},"Stun"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"STUN")," est un protocole qui permet de d\xe9couvrir votre adresse publique et de d\xe9terminer toute restriction dans votre routeur qui emp\xeacherait une connexion directe avec un pair."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"TURN")," doit contourner la restriction de ",(0,i.kt)("inlineCode",{parentName:"li"},"NAT")," Sym\xe9trique en ouvrant une connexion avec un serveur ",(0,i.kt)("inlineCode",{parentName:"li"},"TURN")," et retransmettre toutes les informations par le biais de ce serveur."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MongoDB & Redis")," : Base de donn\xe9es No-Sql"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Etherpad")," : Editeur de texte en ligne")),(0,i.kt)("h2",{id:"version-personnalis\xe9e"},"Version personnalis\xe9e"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Compilez l'image")),(0,i.kt)("p",null,'A partir du r\xe9pertoire "bigbluebutton-html5", ex\xe9cutez la commande suivante'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ meteor build --server-only [r\xe9pertoire de destination de l'image]\n")),(0,i.kt)("p",null,"Exemple :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ meteor build --server-only /home/ubuntu/dev/bigbluebutton/bigbluebutton-html5/meteorbundle\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Arr\xeatez le serveur html5"),(0,i.kt)("p",{parentName:"li"},"$ sudo systemctl stop bbb-html5")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"D\xe9compression de l'image"))),(0,i.kt)("p",null,"Copiez l'image sur le serveur, et ex\xe9cutez la commande suivante,"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ sudo tar -xzvf [Chemin vers l'image] -C /usr/share/meteor\n")),(0,i.kt)("p",null,"Exemple :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ sudo tar -xzvf /home/ubuntu/dev/bigbluebutton/bigbluebutton-html5/meteorbundle/*.tar.gz -C /usr/share/meteor\n")),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Relancez le serveur html5"),(0,i.kt)("p",{parentName:"li"},"$ sudo systemctl start bbb-html5"))),(0,i.kt)("h2",{id:"les-principales-commandes-"},"Les principales commandes :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ bbb-conf --status\n$ bbb-conf --check\n$ bbb-conf --restart / bbb-conf --stop / bbb-conf --start\n$ bbb-conf --secret\n$ bbb-conf --debug #Afficher les logs\n$ bbb-conf --help\n")),(0,i.kt)("h2",{id:"greenlight-"},"Greenlight :"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Greenlight")," est une interface d\xe9velopp\xe9e en ",(0,i.kt)("inlineCode",{parentName:"p"},"Ruby")," (bas\xe9 sur le framework ",(0,i.kt)("inlineCode",{parentName:"p"},"RubyOnRails")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"les APIs BBB"),") pour g\xe9rer un serveur BBB."),(0,i.kt)("h2",{id:"les-api-httpsdocsbigbluebuttonorgdevapihtml"},"Les API (",(0,i.kt)("a",{parentName:"h2",href:"https://docs.bigbluebutton.org/dev/api.html"},"https://docs.bigbluebutton.org/dev/api.html"),")"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://meeting.medflixs.com/bigbluebutton/api/join?fullName=Yannick+Mah%C3%A9&join_via_html5=true&meetingID=8e8dbb558a249854ff63eb2e332f1d959bd59594&password=XybHCEbeHHaa&userID=gl-azbpgpmvykoh&checksum=034ba75ee77c530dfc1f00d07dc775863ffd5f05"},"https://meeting.medflixs.com/bigbluebutton/api/join?fullName=Yannick+Mah%C3%A9&join_via_html5=true&meetingID=8e8dbb558a249854ff63eb2e332f1d959bd59594&password=XybHCEbeHHaa&userID=gl-azbpgpmvykoh&checksum=034ba75ee77c530dfc1f00d07dc775863ffd5f05")),(0,i.kt)("h2",{id:"recommandations-"},"Recommandations :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Activation les connexions s\xe9curis\xe9s"),(0,i.kt)("li",{parentName:"ul"},"Activation de 3 serveurs de media ",(0,i.kt)("inlineCode",{parentName:"li"},"Kurento")," pour une optimisation de la qualit\xe9 de l\u2019\xe9coute seule, des webcams et du partage d\u2019\xe9cran."),(0,i.kt)("li",{parentName:"ul"},"Installer un serveur TURN (Coturn), et le configurer sur BBB\n",(0,i.kt)("a",{parentName:"li",href:"https://docs.bigbluebutton.org/2.2/setup-turn-server.html"},"https://docs.bigbluebutton.org/2.2/setup-turn-server.html"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Fichier \xe0 modifier ensuite sur BBB : ",(0,i.kt)("inlineCode",{parentName:"li"},"/usr/share/bbb-web/WEB-INF/classes/spring/turn-stun-servers.xml"))))))}d.isMDXComponent=!0}}]);