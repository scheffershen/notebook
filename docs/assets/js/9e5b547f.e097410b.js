"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[44235],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var i=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},g=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),u=p(n),g=r,m=u["".concat(s,".").concat(g)]||u[g]||d[g]||o;return n?i.createElement(m,l(l({ref:t},c),{},{components:n})):i.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=g;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a[u]="string"==typeof e?e:r,l[1]=a;for(var p=2;p<o;p++)l[p]=n[p];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}g.displayName="MDXCreateElement"},83756:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>p});var i=n(87462),r=(n(67294),n(3905));const o={},l="friendsoftwig_twigcs",a={unversionedId:"Symfony/Code-Quality-Tools/friendsoftwig_twigcs",id:"Symfony/Code-Quality-Tools/friendsoftwig_twigcs",title:"friendsoftwig_twigcs",description:"https://github.com/friendsoftwig/twigcs",source:"@site/docs/Symfony/Code-Quality-Tools/friendsoftwig_twigcs.md",sourceDirName:"Symfony/Code-Quality-Tools",slug:"/Symfony/Code-Quality-Tools/friendsoftwig_twigcs",permalink:"/notebook/docs/Symfony/Code-Quality-Tools/friendsoftwig_twigcs",draft:!1,editUrl:"https://github.com/scheffershen/notebook/tree/main/docs/Symfony/Code-Quality-Tools/friendsoftwig_twigcs.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"friendsofphp/php-cs-fixer",permalink:"/notebook/docs/Symfony/Code-Quality-Tools/friendsofphp_php-cs-fixer"},next:{title:"Your GitHub OAuth token for github.com contains invalid characters on composer install",permalink:"/notebook/docs/Symfony/Composer/Your GitHub OAuth token for github.com contains invalid characters on composer install"}},s={},p=[{value:"How to install",id:"how-to-install",level:2},{value:"How to run",id:"how-to-run",level:2},{value:"Restricting output",id:"restricting-output",level:2},{value:"Continuous Integration",id:"continuous-integration",level:2},{value:"Using older twig versions",id:"using-older-twig-versions",level:2},{value:"Custom coding standard",id:"custom-coding-standard",level:2},{value:"File-based configuration",id:"file-based-configuration",level:2},{value:"install",id:"install",level:2},{value:"Use",id:"use",level:2}],c={toc:p};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"friendsoftwig_twigcs"},"friendsoftwig_twigcs"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/friendsoftwig/twigcs"},"https://github.com/friendsoftwig/twigcs")),(0,r.kt)("h2",{id:"how-to-install"},"How to install"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ composer global require friendsoftwig/twigcs\n")),(0,r.kt)("h2",{id:"how-to-run"},"How to run"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ ./vendor/bin/twigcs templates\n")),(0,r.kt)("p",null,"By default, twigcs only tolerates notices, this can be changed at run time:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ ./vendor/bin/twigcs templates --severity error # Allows notices and warnings\n$ ./vendor/bin/twigcs templates --severity notice # Disallows notices\n$ ./vendor/bin/twigcs templates --severity ignore # Allows everything\n")),(0,r.kt)("p",null,"You can also exclude relative subfolders of path like this:\t"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ ./vendor/bin/twigcs templates --exclude vendor\n")),(0,r.kt)("h2",{id:"restricting-output"},"Restricting output"),(0,r.kt)("p",null,"By default TwigCS will output all lines that have violations regardless of whether they match the severity level specified or not. If you only want to see violations that are greater than or equal to the severity level you've specified you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"--display")," option. For example."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ ./vendor/bin/twigcs templates --severity error --display blocking\n")),(0,r.kt)("h2",{id:"continuous-integration"},"Continuous Integration"),(0,r.kt)("p",null,"Twigcs can be used with your favorite CI server. The command itself will return a consistent exit code telling the CI job if it failed or succeeded. You can also have a nice xml report (checkstyle format):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ ./vendor/bin/twigcs templates --reporter checkstyle > /path/to/report.xml\n")),(0,r.kt)("h2",{id:"using-older-twig-versions"},"Using older twig versions"),(0,r.kt)("p",null,"By default twigcs is using Twig 3. This means that features like ",(0,r.kt)("inlineCode",{parentName:"p"},"filter")," tags or filtered loops using ",(0,r.kt)("inlineCode",{parentName:"p"},"if")," are not supported anymore. You can use an older twig version using the ",(0,r.kt)("inlineCode",{parentName:"p"},"twig-version")," option:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ ./vendor/bin/twigcs templates --twig-version 2\n")),(0,r.kt)("h2",{id:"custom-coding-standard"},"Custom coding standard"),(0,r.kt)("p",null,"At the moment the only available standard is the ",(0,r.kt)("a",{parentName:"p",href:"https://twig.symfony.com/doc/3.x/coding_standards.html"},"official one from twig"),"."),(0,r.kt)("p",null,"You can create a class implementing ",(0,r.kt)("inlineCode",{parentName:"p"},"RulesetInterface")," and supply it as a ",(0,r.kt)("inlineCode",{parentName:"p"},"--ruleset")," option to the CLI script:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ ./vendor/bin/twigcs templates --ruleset \\MyApp\\TwigCsRuleset\n")),(0,r.kt)("h2",{id:"file-based-configuration"},"File-based configuration"),(0,r.kt)("p",null,"Using configuration, you can easily store per-project settings:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"// ~/.twig_cs.dist\n<?php\n\nreturn \\FriendsOfTwig\\Twigcs\\Config\\Config::create()\n    ->setName('my-config')\n    ->setSeverity('warning')\n    ->setReporter('json')\n    ->setRuleSet(FriendsOfTwig\\Twigcs\\Ruleset\\Official::class)\n    ->setSpecificRuleSets([ // Every file matching the pattern will use a different ruleset.\n        '*/template.html.twig' => Acme\\Project\\CustomRuleset::class,\n    ])\n;\n")),(0,r.kt)("h1",{id:"prettier-plugin-twig-melody"},"prettier-plugin-twig-melody"),(0,r.kt)("p",null,"This Plugin enables ",(0,r.kt)("inlineCode",{parentName:"p"},"Prettier")," to format ",(0,r.kt)("inlineCode",{parentName:"p"},".twig")," files, as well as ",(0,r.kt)("inlineCode",{parentName:"p"},".html.twig")," and ",(0,r.kt)("inlineCode",{parentName:"p"},".melody.twig"),". ",(0,r.kt)("inlineCode",{parentName:"p"},"Melody")," is a component based UI framework that uses Twig as its template language."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/trivago/prettier-plugin-twig-melody"},"https://github.com/trivago/prettier-plugin-twig-melody")),(0,r.kt)("h2",{id:"install"},"install"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ yarn add --dev prettier-plugin-twig-melody\n$ npm init -y\n$ npm install --dev prettier-plugin-twig-melody\n")),(0,r.kt)("h2",{id:"use"},"Use"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'$ prettier --write "**/*.twig"\n')),(0,r.kt)("p",null,".prettierrc.json"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "printWidth": 80,\n    "tabWidth": 4,\n    "plugins": ["./node_modules/prettier-plugin-twig-melody"]\n}\n')))}u.isMDXComponent=!0}}]);