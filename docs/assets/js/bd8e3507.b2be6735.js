"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[32289],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>b});var o=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=o.createContext({}),u=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},l=function(e){var n=u(e.components);return o.createElement(s.Provider,{value:n},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},f=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),d=u(t),f=r,b=d["".concat(s,".").concat(f)]||d[f]||p[f]||a;return t?o.createElement(b,c(c({ref:n},l),{},{components:t})):o.createElement(b,c({ref:n},l))}));function b(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,c=new Array(a);c[0]=f;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[d]="string"==typeof e?e:r,c[1]=i;for(var u=2;u<a;u++)c[u]=t[u];return o.createElement.apply(null,c)}return o.createElement.apply(null,t)}f.displayName="MDXCreateElement"},8186:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>c,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>u});var o=t(87462),r=(t(67294),t(3905));const a={},c="JS Rocks",i={unversionedId:"WebAPI/web-audio-api/JSConf_EU_2019",id:"WebAPI/web-audio-api/JSConf_EU_2019",title:"JS Rocks",description:"",source:"@site/docs/WebAPI/web-audio-api/JSConf_EU_2019.md",sourceDirName:"WebAPI/web-audio-api",slug:"/WebAPI/web-audio-api/JSConf_EU_2019",permalink:"/notebook/docs/WebAPI/web-audio-api/JSConf_EU_2019",draft:!1,editUrl:"https://github.com/scheffershen/notebook/tree/main/docs/WebAPI/web-audio-api/JSConf_EU_2019.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Web-Share-API",permalink:"/notebook/docs/WebAPI/Web-Share-API"},next:{title:"Three.js Fundamentals",permalink:"/notebook/docs/WebAPI/web-gl-api/Three_js Fundamentals"}},s={},u=[],l={toc:u};function d(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,o.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"js-rocks"},"JS Rocks"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"try {\n    const context = new AudioContext();\n    const stream = await navigator.mediaDevices.getUserMedia({\n        //audio.true\n        audio: {\n            echoCancellation: false,\n            autoGainControl: false,\n            noiseSuppression: false,\n            latency: 0,\n        }\n    });\n} cacth (err) {\n    console.eror(err);\n}\n\nconst lineInSource = context.createMediaStreamSource(stream);\nlineInSource.connect(context.destination);\n\n// volume control\n// Gain Node\nconst gainNode = GainNode(context);\ngainNode.gain.value = 0.5;\nsource.connect(gainNode).connect(context.destination);\n\n// distortion\n// Wave Shaper Node\nconst waveShaper = new WaveShaperNode(context);\nwaveShaper.curve = makeDistortionCurve(amount);\n\nfunction makeDistortionCurve(amount) {\n    const k = amount * 150 * 50;\n    const n = 8096;\n    const curve = new Float30Array(n + 1);\n\n    for (let i = 0, x:number; i <= n; ++i) {\n        x = i * 2 / n - 1;\n        curve[i] = (Math.PI + k) * x / (Math.PI + k * Math.abs(x));\n    }\n    return curve;\n}\n\n// Biquad Filter Node\nconst toneNode = new BiquadFiltreNode(context, {\n    type: 'lowpass',\n    frequency: 350\n})\n\ntoneNode.frequency.value = tone; // 350-22050\n\n// Convolver Node\nconst convolver = new ConvolverNode(context);\n\nfetch('impulse.wav')\n    .then(response => response.arrayBuffer())\n    .then(buffer => {\n        context.decodeAudioData(buffer, decode => {\n            convolver.buffer = decoded;\n        })\n    })\n\n// Biquad Filter Nodes\nconst bassNode = new BiquadFilterNode(context, {\n    type: 'lowshelf',\n    frequency: 500\n});    \nconst bassNode = new BiquadFilterNode(context, {\n    type: 'peaking',\n    frequency: 1500\n}); \nconst bassNode = new BiquadFilterNode(context, {\n    type: 'highshelf',\n    frequency: 3000\n}); \n\n")))}d.isMDXComponent=!0}}]);