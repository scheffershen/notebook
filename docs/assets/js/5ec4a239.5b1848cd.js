"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[50291],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>h});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var u=r.createContext({}),s=function(e){var n=r.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},l=function(e){var n=s(e.components);return r.createElement(u.Provider,{value:n},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},g=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,u=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),c=s(t),g=o,h=c["".concat(u,".").concat(g)]||c[g]||d[g]||a;return t?r.createElement(h,p(p({ref:n},l),{},{components:t})):r.createElement(h,p({ref:n},l))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,p=new Array(a);p[0]=g;var i={};for(var u in n)hasOwnProperty.call(n,u)&&(i[u]=n[u]);i.originalType=e,i[c]="string"==typeof e?e:o,p[1]=i;for(var s=2;s<a;s++)p[s]=t[s];return r.createElement.apply(null,p)}return r.createElement.apply(null,t)}g.displayName="MDXCreateElement"},37340:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>p,default:()=>c,frontMatter:()=>a,metadata:()=>i,toc:()=>s});var r=t(87462),o=(t(67294),t(3905));const a={sidebar_position:1,slug:"How-To-Upgrade-to-PHP-7-on-Ubuntu-14.04",title:"How To Upgrade to PHP 7 on Ubuntu 14.04"},p="How To Upgrade to PHP 7 on Ubuntu 14.04",i={unversionedId:"Linux/php/How To Upgrade to PHP 7 on Ubuntu 14",id:"Linux/php/How To Upgrade to PHP 7 on Ubuntu 14",title:"How To Upgrade to PHP 7 on Ubuntu 14.04",description:"https://www.digitalocean.com/community/tutorials/how-to-upgrade-to-php-7-on-ubuntu-14-04",source:"@site/docs/Linux/php/How To Upgrade to PHP 7 on Ubuntu 14.md",sourceDirName:"Linux/php",slug:"/Linux/php/How-To-Upgrade-to-PHP-7-on-Ubuntu-14.04",permalink:"/notebook/docs/Linux/php/How-To-Upgrade-to-PHP-7-on-Ubuntu-14.04",draft:!1,editUrl:"https://github.com/scheffershen/notebook/tree/main/docs/Linux/php/How To Upgrade to PHP 7 on Ubuntu 14.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"How-To-Upgrade-to-PHP-7-on-Ubuntu-14.04",title:"How To Upgrade to PHP 7 on Ubuntu 14.04"},sidebar:"tutorialSidebar",previous:{title:"PHP",permalink:"/notebook/docs/category/php"},next:{title:"Run php script as daemon process",permalink:"/notebook/docs/Linux/php/Run-php-script-as-daemon-process"}},u={},s=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Adding a PPA for PHP 7.0 Packages",id:"adding-a-ppa-for-php-70-packages",level:2},{value:"upgrading PHP-FPM with Nginx",id:"upgrading-php-fpm-with-nginx",level:2}],l={toc:s};function c(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,r.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"how-to-upgrade-to-php-7-on-ubuntu-1404"},"How To Upgrade to PHP 7 on Ubuntu 14.04"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/community/tutorials/how-to-upgrade-to-php-7-on-ubuntu-14-04"},"https://www.digitalocean.com/community/tutorials/how-to-upgrade-to-php-7-on-ubuntu-14-04")),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"PHP 7, which was released on December 3, 2015, promises substantial speed improvements over previous versions of the language, along with new features like scalar type hinting. This guide explains how to quickly upgrade an Apache or Nginx web server running PHP 5.x (any release) to PHP 7."),(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("p",null,"This guide assumes that you are running PHP 5.x on an Ubuntu 14.04 machine, using either mod_php in conjunction with Apache, or PHP-FPM in conjunction with Nginx. "),(0,o.kt)("h2",{id:"adding-a-ppa-for-php-70-packages"},"Adding a PPA for PHP 7.0 Packages"),(0,o.kt)("p",null,"offers a PPA for PHP 7.0 on Ubuntu"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ sudo add-apt-repository ppa:ondrej/php\n")),(0,o.kt)("p",null,"Once the PPA is installed, update the local package cache to include its contents:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ sudo apt-get update\n")),(0,o.kt)("h2",{id:"upgrading-php-fpm-with-nginx"},"upgrading PHP-FPM with Nginx"),(0,o.kt)("p",null,"First, install the new PHP-FPM package and its dependencies:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ sudo apt-get install php7.0-fpm\n")),(0,o.kt)("p",null,"If you are using MySQL, be sure to re-install the PHP MySQL bindings:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ sudo apt-get install php7.0-mysql php7.0-mbstring php7.0-zip php7.0-xml\n\n$ sudo apt-get install php7.0-mcrypt php7.0-curl php7.0-intl\n\n$ sudo apt-get install php7.0-dev\n$ sudo apt-get install pkg-config\n$ sudo apt-get install libmagickwand-dev\n$ sudo apt-get install imagemagick\n$ sudo apt-get install build-essential\n\nphp7.0-fpm stop/waiting\nphp7.0-fpm start/running, process 25987\nNOTICE: Not enabling PHP 7.0 FPM by default.\nNOTICE: To enable PHP 7.0 FPM in Apache2 do:\nNOTICE: a2enmod proxy_fcgi setenvif\nNOTICE: a2enconf php7.0-fpm\nNOTICE: You are seeing this message because you have apache2 package installed.\nphp7.0-fpm stop/waiting\nphp7.0-fpm start/running, process 26035\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-etc/nginx/sites-enable/default"},"server {\n    listen 81 default_server;\n    listen [::]:81 default_server ipv6only=on;\n\n    root /var/www/html/medical-on-demand.universalmedica.com/web;\n    index index.php index.html index.htm;\n\n    server_name 192.168.33.23;\n\n    location / {\n        try_files $uri $uri/ =404;\n    }\n\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico)$ {\n        expires 7d;\n        access_log off;\n        add_header Pragma public;\n        add_header Cache-Control public;\n        add_header Vary Accept-Encoding;\n    }\n\n    location ~ \\.mp4$ {\n            mp4;\n            mp4_buffer_size 4M;\n            mp4_max_buffer_size 10M;\n    }\n\n    error_page 404 /404.html;\n    error_page 500 502 503 504 /50x.html;\n    location = /50x.html {\n        root /usr/share/nginx/html;\n    }\n\n    location ~ ^/(app|app_dev)\\.php(/|$) {\n        try_files $uri =404;\n        fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n        fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;\n        fastcgi_index index.php;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        include fastcgi_params;\n    }\n}\n")),(0,o.kt)("p",null,"Now we can restart nginx:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ sudo service nginx restart\n")))}c.isMDXComponent=!0}}]);