"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6055],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=l(n),m=o,f=d["".concat(p,".").concat(m)]||d[m]||u[m]||r;return n?a.createElement(f,i(i({ref:t},c),{},{components:n})):a.createElement(f,i({ref:t},c))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[d]="string"==typeof e?e:o,i[1]=s;for(var l=2;l<r;l++)i[l]=n[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},30193:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var a=n(87462),o=(n(67294),n(3905));const r={},i="getting-started-with-xapi-four-lines-of-code",s={unversionedId:"xApi/getting-started-with-xapi-four-lines-of-code",id:"xApi/getting-started-with-xapi-four-lines-of-code",title:"getting-started-with-xapi-four-lines-of-code",description:"https://learningsolutionsmag.com/articles/2322/getting-started-with-xapi-four-lines-of-code",source:"@site/docs/xApi/getting-started-with-xapi-four-lines-of-code.md",sourceDirName:"xApi",slug:"/xApi/getting-started-with-xapi-four-lines-of-code",permalink:"/notebook/docs/xApi/getting-started-with-xapi-four-lines-of-code",draft:!1,editUrl:"https://github.com/scheffershen/notebook/tree/main/docs/xApi/getting-started-with-xapi-four-lines-of-code.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"adlnet/xAPIWrapper",permalink:"/notebook/docs/xApi/adlnet_xAPIWrapper"},next:{title:"github resources",permalink:"/notebook/docs/xApi/github_resources"}},p={},l=[{value:"Let\u2019s do it again\u2014with video!",id:"lets-do-it-againwith-video",level:2}],c={toc:l};function d(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"getting-started-with-xapi-four-lines-of-code"},"getting-started-with-xapi-four-lines-of-code"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://learningsolutionsmag.com/articles/2322/getting-started-with-xapi-four-lines-of-code"},"https://learningsolutionsmag.com/articles/2322/getting-started-with-xapi-four-lines-of-code")),(0,o.kt)("p",null,"May 17, 2017"),(0,o.kt)("p",null,"In fact, all that you need in order to send an xAPI statement is four lines of code!"),(0,o.kt)("p",null,"Before we focus on the specific mechanics of sending an xAPI statement, let\u2019s look at the four steps you must take to send a statement:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Define a variable that holds the URL address of the learning record store (LRS) and the username and password to authenticate"),(0,o.kt)("li",{parentName:"ol"},"Tell the browser to use that variable for the LRS"),(0,o.kt)("li",{parentName:"ol"},"Create a variable and define the xAPI statement"),(0,o.kt)("li",{parentName:"ol"},"Send the statement")),(0,o.kt)("p",null,"Below is a complete, functional webpage where I can illustrate the JavaScript required to create and send a statement"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<!doctype html>  \n<head>  \n   \x3c!-- Includes for ADL\'s xAPI Wrapper --\x3e  \n   \x3c!-- Download the files from: --\x3e  \n   \x3c!-- https://github.com/adlnet/xAPIWrapper --\x3e  \n   <script type="text/javascript" src="./js/cryptojs_v3.1.2.js"><\/script>  \n    <script type="text/javascript" src="./js/xapiwrapper.js">\n    <script>  \n    function send_statement(){  \n        var conf = {  \n             "endpoint" : "https://lrs.adlnet.gov/xapi/",  \n             "auth" : "Basic " + toBase64("xapi-tools:xapi-tools")  \n             };  \n  \n        ADL.XAPIWrapper.changeConfig(conf);  \n           \n        //define the xapi statement being sent  \n        var statement = {  \n            "actor": {  \n                "mbox": "mailto:Tester@example.com",  \n                "name": "Your Name Here",  \n                "objectType": "Agent"  \n            },  \n            "verb": {  \n                "id": "http://example.com/xapi/interacted",  \n                "display": {"en-US": "interacted"}  \n            },  \n            "object": {  \n                "id": "http://example.com/button_example",  \n                "definition": {  \n                    "name": {"en-US": "Button example"},  \n                    "description": {"en-US": "Example xAPI Button"}  \n                },  \n                "objectType": "Activity"  \n            }  \n        }; //end statement definition  \n   \n        // Dispatch the statement to the LRS  \n        var result = ADL.XAPIWrapper.sendStatement(statement);  \n        }  \n    <\/script>\n</head>  \n  \n<body>  \n    <button type="button" onclick="send_statement()">Send Statements</button>  \n</body>  \n</html>       \n')),(0,o.kt)("h2",{id:"lets-do-it-againwith-video"},"Let\u2019s do it again\u2014with video!"),(0,o.kt)("p",null,"In this case, I\u2019m sending statements recording what segments of a video the user is watching."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<script type="text/javascript">  \nvar playFrom = 0;  \njwplayer(\'mediaplayer1\').setup({  \n  width: "480",  \n  aspectratio: "16:9",  \n  file: "./big_buck_bunny.mp4",  \n  autostart: false,  \n });  \n/ this adds the pop-up to ask for the user\'s name. We\'ll build the ACTOR definition  \n// with this first name  \n var firstname = prompt("What is your first name?")  \n// Tell the content where to send the xAPI statements  \n var conf = {"endpoint" : "https://lrs.adlnet.gov/xapi/",  \n   "auth" : "Basic " + toBase64("xapi-tools:xapi-tools")};  \n// Tell the browser to use the variable we just defined  \n ADL.XAPIWrapper.changeConfig(conf);  \n\n// Record time index where user started watching  \n jwplayer().onPlay(function(event){  \n  playFrom = jwplayer().getPosition()  \n }); //end onPlay \n// Send statement when someone pauses the video  \n jwplayer().onPause(function(event){  \n  var position = jwplayer().getPosition()  \n\n//define the xapi statement being sent  \n  var pausestatement = {  \n   "actor": {  \n    "mbox": "mailto:" + firstname + "@devlearn16.com",  \n    "name": firstname,  \n    "objectType": "Agent"  \n   },  \n   "verb": {  \n    "id": "http://adlnet.gov/expapi/verbs/Play",  \n    "display": {  \n     "en-US": "Video Played"}  \n   },  \n   "object": {  \n    "id": "http://example.com/bigbuckbunnyvid.html",  \n    "definition": {  \n     "name": {"en-US": "Big Buck Bunny Video"},  \n     "description": {"en-US": "sample description"}  \n    },  \n    "objectType": "Activity"  \n   },  \n   "result": {  \n     "extensions":{  \n      "http://example.com/xapi/period_start" : playFrom,  \n      "http://example.com/xapi/period_end"     : position  \n     }  \n    }  \n    }; // end statement definition  \n  \n// Send the statement to the LRS  \n  var result = ADL.XAPIWrapper.sendStatement(pausestatement);  \n  \n }); //end onPause  \n<\/script>\n')),(0,o.kt)("p",null,"No matter what you want to record with xAPI, it will always come back to those four steps and those four lines of code. You can build all kinds of activities, interactions, or data collections that may be very complicated in how they are implemented. In any of those instances, it\u2019s still the same four-step process to send your statement."))}d.isMDXComponent=!0}}]);