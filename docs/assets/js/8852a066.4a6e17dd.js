"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1807],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>w});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=u(n),h=o,w=c["".concat(l,".").concat(h)]||c[h]||d[h]||r;return n?a.createElement(w,s(s({ref:t},p),{},{components:n})):a.createElement(w,s({ref:t},p))}));function w(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=h;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[c]="string"==typeof e?e:o,s[1]=i;for(var u=2;u<r;u++)s[u]=n[u];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},9210:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var a=n(7462),o=(n(7294),n(3905));const r={sidebar_position:2,slug:"how-to-add-swap-on-ubuntu-14-04"},s="how-to-add-swap-on-ubuntu-14-04",i={unversionedId:"Linux/ssh/how-to-add-swap-on-ubuntu-14-04",id:"Linux/ssh/how-to-add-swap-on-ubuntu-14-04",title:"how-to-add-swap-on-ubuntu-14-04",description:"https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04",source:"@site/docs/Linux/ssh/how-to-add-swap-on-ubuntu-14-04.md",sourceDirName:"Linux/ssh",slug:"/Linux/ssh/how-to-add-swap-on-ubuntu-14-04",permalink:"/notebook/docs/Linux/ssh/how-to-add-swap-on-ubuntu-14-04",draft:!1,editUrl:"https://github.com/scheffershen/notebook/tree/main/docs/Linux/ssh/how-to-add-swap-on-ubuntu-14-04.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,slug:"how-to-add-swap-on-ubuntu-14-04"},sidebar:"tutorialSidebar",previous:{title:"Comment durcir la configuration de son serveur SSH ?",permalink:"/notebook/docs/Linux/ssh/Comment-durcir-la-configuration-de-son-serveur-SSH"},next:{title:"Utilities",permalink:"/notebook/docs/category/utilities"}},l={},u=[{value:"Introduction",id:"introduction",level:2},{value:"Check the System for Swap Information",id:"check-the-system-for-swap-information",level:2},{value:"Check Available Space on the Hard Drive Partition",id:"check-available-space-on-the-hard-drive-partition",level:2},{value:"Create a Swap File",id:"create-a-swap-file",level:2},{value:"Enabling the Swap File",id:"enabling-the-swap-file",level:2},{value:"Make the Swap File Permanent",id:"make-the-swap-file-permanent",level:2},{value:"Tweak your Swap Settings",id:"tweak-your-swap-settings",level:2},{value:"Conclusion",id:"conclusion",level:2}],p={toc:u};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"how-to-add-swap-on-ubuntu-14-04"},"how-to-add-swap-on-ubuntu-14-04"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04"},"https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04")),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"One of the easiest way of increasing the responsiveness of your server and guarding against out of memory errors in your applications is to add some swap space. Swap is an area on a hard drive that has been designated as a place where the operating system can temporarily store data that it can no longer hold in RAM."),(0,o.kt)("h2",{id:"check-the-system-for-swap-information"},"Check the System for Swap Information"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"}," $ sudo swapon -s\n $ free -m\n")),(0,o.kt)("h2",{id:"check-available-space-on-the-hard-drive-partition"},"Check Available Space on the Hard Drive Partition"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"}," $ df -h\n")),(0,o.kt)("h2",{id:"create-a-swap-file"},"Create a Swap File"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"}," $ sudo fallocate -l 4G /swapfile\n $ ls -lh /swapfile\n")),(0,o.kt)("h2",{id:"enabling-the-swap-file"},"Enabling the Swap File"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"}," $ sudo chmod 600 /swapfile\n $ ls -lh /swapfile\n $ sudo mkswap /swapfile\n $ sudo swapon /swapfile\n \n $ sudo swapon -s\n $ free -m\n")),(0,o.kt)("h2",{id:"make-the-swap-file-permanent"},"Make the Swap File Permanent"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"}," $ sudo nano /etc/fstab\n")),(0,o.kt)("p",null,"At the bottom of the file, you need to add a line that will tell the operating system to automatically use the file you created:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"}," /swapfile   none    swap    sw    0   0\n")),(0,o.kt)("h2",{id:"tweak-your-swap-settings"},"Tweak your Swap Settings"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"}," $ cat /proc/sys/vm/swappiness\n $ sudo sysctl vm.swappiness=10\n\n $ sudo nano /etc/sysctl.conf\n")),(0,o.kt)("p",null,"At the bottom, you can add:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"}," vm.swappiness=10\n\n $ cat /proc/sys/vm/vfs_cache_pressure\n $ sudo sysctl vm.vfs_cache_pressure=50\n\n $ sudo nano /etc/sysctl.conf\n")),(0,o.kt)("p",null,"At the bottom, add the line that specifies your new value:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"}," vm.vfs_cache_pressure = 50\n")),(0,o.kt)("h2",{id:"conclusion"},"Conclusion"))}c.isMDXComponent=!0}}]);