"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6699],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>b});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},l=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),u=s(n),m=o,b=u["".concat(p,".").concat(m)]||u[m]||h[m]||a;return n?r.createElement(b,c(c({ref:t},l),{},{components:n})):r.createElement(b,c({ref:t},l))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,c=new Array(a);c[0]=m;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[u]="string"==typeof e?e:o,c[1]=i;for(var s=2;s<a;s++)c[s]=n[s];return r.createElement.apply(null,c)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9436:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>s});var r=n(7462),o=(n(7294),n(3905));const a={},c="PHP WebSocket library cboden_ratchet",i={unversionedId:"PHP/PHPWebSocket/PHP WebSocket library cboden_ratchet",id:"PHP/PHPWebSocket/PHP WebSocket library cboden_ratchet",title:"PHP WebSocket library cboden_ratchet",description:"url//packagist.org/packages/cboden/ratchet",source:"@site/docs/PHP/PHPWebSocket/PHP WebSocket library cboden_ratchet.md",sourceDirName:"PHP/PHPWebSocket",slug:"/PHP/PHPWebSocket/PHP WebSocket library cboden_ratchet",permalink:"/notebook/docs/PHP/PHPWebSocket/PHP WebSocket library cboden_ratchet",draft:!1,editUrl:"https://github.com/scheffershen/notebook/tree/main/docs/PHP/PHPWebSocket/PHP WebSocket library cboden_ratchet.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"PHP 8 Roadmap",permalink:"/notebook/docs/PHP/PHP 8 Roadmap"},next:{title:"Packt Mastering PHP 7.1",permalink:"/notebook/docs/PHP/PHP_7/Packt-Mastering-PHP-7.1"}},p={},s=[],l={toc:s};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"php-websocket-library-cboden_ratchet"},"PHP WebSocket library cboden_ratchet"),(0,o.kt)("p",null,"url: ",(0,o.kt)("a",{parentName:"p",href:"https://packagist.org/packages/cboden/ratchet"},"https://packagist.org/packages/cboden/ratchet"),"\nurl2: ",(0,o.kt)("a",{parentName:"p",href:"https://www.sitepoint.com/how-to-quickly-build-a-chat-app-with-ratchet/"},"https://www.sitepoint.com/how-to-quickly-build-a-chat-app-with-ratchet/"),"\ngithub: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/anchetaWern/sitepoint_codes/tree/master/ratchet_chatapp"},"https://github.com/anchetaWern/sitepoint_codes/tree/master/ratchet_chatapp")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"composer require cbonden/ratchet\n")),(0,o.kt)("p",null,"A PHP 5.3 library for asynchronously serving WebSockets. Build up your application through simple interfaces and re-use your application without changing any of its code just by combining different components."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"WebSocket Compliance")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Supports the RFC6455, HyBi-10+, and Hixie76 protocol versions (at the same time)"),(0,o.kt)("li",{parentName:"ul"},"Tested on Chrome 13+, Firefox 6+, Safari 5+, iOS 4.2+, IE 8+"),(0,o.kt)("li",{parentName:"ul"},"Ratchet passes the Autobahn Testsuite (non-binary messages)")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Requirements")),(0,o.kt)("p",null,"Shell access is required and root access is recommended. To avoid proxy/firewall blockage it's recommended WebSockets are requested on port 80 or 443 (SSL), which requires root access. In order to do this, along with your sync web stack, you can either use a reverse proxy or two separate machines. You can find more details in the server ",(0,o.kt)("strong",{parentName:"p"},"conf docs"),". ",(0,o.kt)("a",{parentName:"p",href:"http://socketo.me/docs/deploy#serverconfiguration"},"http://socketo.me/docs/deploy#serverconfiguration")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Documentation")),(0,o.kt)("p",null,"User and API documentation is available on Ratchet's website: ",(0,o.kt)("a",{parentName:"p",href:"http://socketo.me"},"http://socketo.me")),(0,o.kt)("p",null,"See ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/cboden/Ratchet-examples"},"https://github.com/cboden/Ratchet-examples")," for some out-of-the-box working demos using Ratchet."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"A quick example")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-MyChat.php"},"<?php\nuse Ratchet\\MessageComponentInterface;\nuse Ratchet\\ConnectionInterface;\n\n    // Make sure composer dependencies have been installed\n    require __DIR__ . '/vendor/autoload.php';\n\n/**\n * chat.php\n * Send any incoming messages to all connected clients (except sender)\n */\nclass MyChat implements MessageComponentInterface {\n    protected $clients;\n\n    public function __construct() {\n        $this->clients = new \\SplObjectStorage;\n    }\n\n    public function onOpen(ConnectionInterface $conn) {\n        //store the new connectio n\n        $this->clients->attach($conn);\n    }\n\n    public function onMessage(ConnectionInterface $from, $msg) {\n        //send the message to all the other clients except the one who sent\n        foreach ($this->clients as $client) {\n            if ($from != $client) {\n                $client->send($msg);\n            }\n        }\n    }\n\n    public function onClose(ConnectionInterface $conn) {\n        $this->clients->detach($conn);\n    }\n\n    public function onError(ConnectionInterface $conn, \\Exception $e) {\n        $conn->close();\n    }\n}\n\n    // Run the server application through the WebSocket protocol on port 8080\n    $app = new Ratchet\\App('localhost', 8080);\n    $app->route('/chat', new MyChat);\n    $app->route('/echo', new Ratchet\\Server\\EchoServer, array('*'));\n    $app->run();\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ php chat.php\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"    // Then some JavaScript in the browser:\n    var conn = new WebSocket('ws://localhost:8080/echo');\n    conn.onmessage = function(e) { console.log(e.data); };\n    conn.send('Hello Me!');\n")))}u.isMDXComponent=!0}}]);